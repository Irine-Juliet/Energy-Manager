{% extends 'base.html' %}

{% block title %}Change Password - Energy Manager{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto bg-white shadow-md rounded p-6">
  <h2 class="text-2xl font-semibold mb-4">Change Password</h2>

  <form method="post" class="space-y-4">
    {% csrf_token %}
    {{ form.non_field_errors }}

    <div>
      <label class="block text-sm font-medium text-gray-700">Current password</label>
      {{ form.old_password }}
      {% for err in form.old_password.errors %}
        <p class="text-red-600 text-sm">{{ err }}</p>
      {% endfor %}
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700">New password</label>
      {{ form.new_password1 }}
      {% for err in form.new_password1.errors %}
        <p class="text-red-600 text-sm">{{ err }}</p>
      {% endfor %}
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700">Confirm new password</label>
      {{ form.new_password2 }}
      {% for err in form.new_password2.errors %}
        <p class="text-red-600 text-sm">{{ err }}</p>
      {% endfor %}
    </div>

    <div class="flex items-center space-x-2">
      <button type="submit" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded">Change password</button>
      <a href="{% url 'account' %}" class="text-sm text-gray-600">Cancel</a>
    </div>
  </form>
</div>
{% endblock %}
